一个双人格斗游戏

# 平台

桌面浏览器HTML

# 流程

1. 双方使用鼠标选择角色, 角色1先选, 角色2后选, 在已选角色上再点击则为取消选择
2. 按下空格键开始游戏
3. 一个角色血量小于等于0则倒地, 随后获得一次复活机会, 血量恢复
4. 一个角色血量两次小于等于0则倒地并宣告失败. 界面显示祝贺语和胜者名称
5. 按下空格键回到角色选择画面

# 操作方式

## 介质

键盘

## 按键

- 空格: 开始游戏
- A: 角色1向左移动
- S: 角色1向右移动
- D: 角色1攻击
- K: 角色2向左移动
- L: 角色2向右移动
- J: 角色2攻击

# 角色

角色列表读取文件"./characters.json". 其格式如下:

```json
{
    "tom_the_cat": { // 角色名称
        "url": "./tom/avator.png", // 角色头像图片地址. 用于角色选择画面
        "point": 1000, // 角色初始血量
        "status": [ // 角色状态列表
            {
                "keys": [ // 触发该状态的按键组合, 在默认状态时在0.5秒内连续按下列表中的按键则触发该状态. 空表示默认状态
                    "B", // 后退. 角色在左侧则按键"向左移动"为后退, 反之则"向右移动"为后退
                    "F", // 前进. 角色在左侧则按键"向右移动"为后退, 反之则"向左移动"为后退
                    "A" // 攻击
                ],
                "imgs": [ // 角色状态形象图片列表. 角色处于该状态时轮流播放图片
                    {
                        "url": "./tom/stand.png", // 图片地址
                        "duration": 100 // 图片展示时长
                    }
                ],
                "block": { // 角色可受打击的坐标范围, 以图片的左上角为(0, 0)
                    "x": 0, // 左上角x值
                    "y": 0, // 左上角y值
                    "w": 0, // 宽度
                    "h": 0, // 高度
                },
                "type": "normal", // 该状态所代表的状态类型. normal: 默认; attacking: 攻击; attacked: 挨打; knocked: 倒地. 一个角色只有一个默认状态, 一个挨打状态, 一个倒地状态, 可以有多个攻击状态
                "power": 100, // 攻击力. 0表示非攻击状态
                "attack": { // 角色攻击的坐标范围, 为空表示该状态无攻击能力, 以图片的左上角为(0, 0)
                    "x": 0, // 左上角x值
                    "y": 0, // 左上角y值
                    "w": 0, // 宽度
                    "h": 0, // 高度
                },
                "duration": 100 // 状态持续毫秒数, 达到该毫秒数后角色恢复为默认状态. 默认状态该值为0
            }
        ]
    }
}
```

# 背景

背景列表读取文件"./backgrounds.json". 其格式如下:

```json
{
    "grass": { // 背景名称
        "url": "./grass.png" // 图片地址
    }
}
```

每次开始游戏随机选择一个背景.

# 碰撞规则

当一名角色的攻击范围与另一名角色的受打击范围重叠时, 后者的point损失前者攻击力对应的power, 且后者状态变为挨打状态.
随后双方互相弹开一段距离, 弹开过程中双方不可行动, 弹开过程结束后双方恢复为默认状态.